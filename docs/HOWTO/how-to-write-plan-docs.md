# 如何撰写执行计划 (Plan) 文档

本文档旨在指导如何规范地撰写和管理项目中的执行计划（Plan）文档，以确保任务清晰、过程可追溯、结果易于评估。

## 1. 目的

执行计划文档用于：

*   **明确任务目标**：清晰定义需要完成的具体任务和预期成果。
*   **规划实施步骤**：将复杂任务分解为可执行的小步骤。
*   **分配任务责任**：明确哪些步骤由 AI 执行，哪些由人工（HUMAN）执行。
*   **追踪任务进度**：通过标记任务状态，直观了解任务完成情况。
*   **记录执行过程与反思**：记录任务执行中遇到的问题、解决方案及经验教训，便于复盘和改进。

## 2. 文件命名规范

执行计划文件应存放在 `docs/plans/` 目录下。
文件名建议采用以下格式：

`YYYY-MM-DD_简短的中文任务标题.md`

例如：`2025-06-01_配置TailwindCSS到UniApp项目.md`

## 3. 文档结构与内容要求

每份执行计划文档应至少包含以下部分：

### 3.1. 标题

使用一级标题（`#`）明确指出该计划的核心任务。
例如：`# 执行计划：配置Tailwind CSS到UniApp项目`

### 3.2. 背景 (Background)

*   简要描述任务的起因、目的或当前项目面临的问题。
*   帮助理解为何需要执行此计划。

### 3.3. 目标 (Goal)

*   清晰、具体地列出此计划完成后应达成的各项成果。
*   目标应该是可衡量、可验证的。

### 3.4. 当前项目环境 (Current Project Environment) (可选但推荐)

*   简述与当前计划相关的项目技术栈、关键目录结构、已知配置或限制等。
*   有助于 AI 或其他协作者快速了解上下文。

### 3.5. 实施步骤 (Implementation Steps / AI TODO / HUMAN TODO)

*   这是计划的核心部分，详细列出为达成目标所需执行的每一个步骤。
*   **任务标记**：
    *   `[ ] AI:`：表示该步骤由 AI 负责执行。
    *   `[ ] HUMAN:`：表示该步骤由人工负责执行。
    *   `[x] AI:` 或 `[x] HUMAN:`：表示该步骤已完成。
*   **步骤描述**：
    *   每个步骤应尽可能具体、可操作。
    *   对于 AI 任务，如果涉及代码修改或文件创建，应明确指出：
        *   **任务**: 清晰描述要做什么。
        *   **文件路径**: 使用 Markdown 链接格式，例如 `[frontend/tailwind.config.js](frontend/tailwind.config.js)`。
        *   **内容/命令**: 如果是创建文件或修改代码，提供完整的代码块；如果是执行命令，提供准确的命令。
        *   **说明**: 对该步骤的简要解释或注意事项。
*   **顺序执行**: 默认情况下，步骤应按列出的顺序执行。

### 3.6. 涉及的文件 (Involved Files) (可选但推荐)

*   汇总列出在本计划执行过程中将会被修改、创建或生成的主要文件及其路径。
*   方便快速定位相关文件。

### 3.7. 重要注意事项和局限性 (Important Notes and Limitations) (可选)

*   记录在执行此计划时需要特别注意的事项、潜在风险、已知局限性或依赖条件。

## 4. 任务完成后的动作

当一个步骤（无论是 AI 还是 HUMAN）完成后：

1.  **标记完成**：将对应任务前的 `[ ]` 修改为 `[x]`。
2.  **添加执行反思/错误记录 (AI 任务尤其重要)**：
    *   在已完成的任务描述下方，另起一行，使用 `*   **执行反思**:` 或 `*   **遇到的错误与解决方案**:` 作为小标题。
    *   简要记录该步骤执行过程中遇到的问题、如何解决的、重要的观察点或可以改进的地方。
    *   这对于 AI 任务尤其重要，有助于理解 AI 的决策过程和学习经验。

## 5. 示例模板参考

可以参考项目 `dev_plans/todo/` 目录下已有的计划文档，例如 [`dev_plans/todo/2025-06-01_配置TailwindCSS到UniApp项目.md`](dev_plans/todo/2025-06-01_配置TailwindCSS到UniApp项目.md) 或 `dev_plans/todo/todo_template_cannot_modify.md`。

---

遵循以上规范，可以使执行计划更清晰、易于管理，并促进团队协作和知识沉淀。